(this["webpackJsonpcombat-tracker"]=this["webpackJsonpcombat-tracker"]||[]).push([[0],{367:function(e,t,i){},368:function(e,t,i){"use strict";i.r(t);var n=i(6),a=i(0),r=i(22),c=i.n(r),o=(i(216),i(59)),u=i(19),s=i(205),l=i(370),d=i(378),p=i(374),v=i(126),j=i.n(v),b=i(208),y=i(373),m=i(380),h=i(369),O=i(48),x=i(101),I=i(379),f=i(376),w=y.a.confirm,g=Object(x.d)((function(){return Object(n.jsx)(I.a,{style:{width:"15px",cursor:"pointer",color:"#999"}})})),N=Object(x.c)((function(e){return Object(n.jsx)("tr",Object(u.a)({},e))})),C=Object(x.b)((function(e){return Object(n.jsx)("tbody",Object(u.a)({},e))})),H=function(e){var t=e.state.initiatives,i=e.dispatch,r=e.wider,c=Object(a.useMemo)((function(){var e=[{dataIndex:"sort",width:15,className:"drag-visible",render:function(){return Object(n.jsx)(g,{})}},{title:"Name",width:"50px",className:"drag-visible",render:function(e){var t=e.name,i=e.monster;return Object(n.jsx)("span",{style:{fontWeight:500,color:i?"red":"green"},children:t})}},{title:"Init",key:"value",dataIndex:"value"}];return r&&(e.push({title:"HP",render:function(e){var t=e.hitpoints,i=e.monster;return Object(n.jsx)("span",{style:{fontWeight:500,color:t>0||!i?"green":"red"},children:t})}}),e.push({title:"Conditions",dataIndex:"conditions",key:"conditions",render:function(e){return Object(n.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:e.map((function(e){var t=e.color,i=e.condition;return Object(n.jsx)(m.a,{color:t,children:i},i)}))})}}),e.push({key:"id",render:function(e){var t=e.id,a=e.name;return Object(n.jsx)(f.a,{onClick:function(){w({title:"Do you Want to delete ".concat(null!==a&&void 0!==a?a:"","?"),icon:null,onOk:function(){i({type:"removeCharacter",value:t})}})}})}})),e}),[r,i]),s=function(e){var n=e.oldIndex,a=e.newIndex;if(n!==a){var r=Object(x.a)([].concat(t),n,a).filter((function(e){return!!e}));i({type:"sortInitiatives",initiatives:r})}};return Object(n.jsxs)("div",{style:{height:"100vh",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",borderRight:"solid 2px lightgrey"},children:[Object(n.jsx)(h.a,{style:{height:"calc(100vh - 40px)",overflow:"scroll",overflowX:"hidden"},pagination:!1,dataSource:t,columns:c,rowKey:"id",rowSelection:{type:"radio",onChange:function(e){var t=Object(o.a)(e,1)[0];return i({type:"select",value:t})}},components:{body:{wrapper:function(e){return Object(n.jsx)(C,Object(u.a)({useDragHandle:!0,helperClass:"row-dragging",onSortEnd:s},e))},row:function(e){e.className,e.style;var i=Object(b.a)(e,["className","style"]),a=t.findIndex((function(e){return e.id===i["data-row-key"]}));return Object(n.jsx)(N,Object(u.a)({index:a},i))}}}}),Object(n.jsxs)(d.a,{style:{height:"40px"},children:[Object(n.jsx)(p.a,{span:12,children:Object(n.jsx)(O.a,{size:"large",style:{maxWidth:"150px",height:"100%"},type:"primary",disabled:t.length<2,onClick:function(){return i({type:"back"})},children:"Go Back"})}),Object(n.jsx)(p.a,{span:12,style:{display:"flex",flexDirection:"row-reverse"},children:Object(n.jsx)(O.a,{size:"large",style:{maxWidth:"150px",height:"100%"},type:"primary",disabled:t.length<2,onClick:function(){return i({type:"next"})},children:"Next Character"})})]})]})},k=i(371),S=i(377),P=i(375),W=i(372),z=[{value:"1",type:"writeInputInitiative"},{value:"2",type:"writeInputInitiative"},{value:"3",type:"writeInputInitiative"},{value:"4",type:"writeInputInitiative"},{value:"5",type:"writeInputInitiative"},{value:"6",type:"writeInputInitiative"},{value:"7",type:"writeInputInitiative"},{value:"8",type:"writeInputInitiative"},{value:"9",type:"writeInputInitiative"},{Icon:P.a,type:"negativeInputInitiative"},{value:"0",type:"writeInputInitiative"}];function D(e){var t=e.dispatch;return z.map((function(e){var i=e.type,a=e.value,r=e.Icon,c=e.danger;return Object(n.jsx)(p.a,{span:8,children:Object(n.jsx)(O.a,{danger:c,size:"large",style:{minWidth:"70px",height:"100%"},type:"primary",onClick:function(){return t({type:i,value:a})},children:a||Object(n.jsx)(r,{})})},i+a)}))}function F(e){var t=e.dispatch,i=e.state;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.a,{gutter:[16,16],justify:"center",children:Object(n.jsx)(p.a,{span:8,children:Object(n.jsx)(W.a,{style:{margin:10},value:"Initiative: "+i.inputInitiative,precision:0})})}),Object(n.jsx)(d.a,{gutter:[8,8],children:Object(n.jsx)(D,{dispatch:t})})]})}var E=[{value:"1",type:"writeInputHitpoints"},{value:"2",type:"writeInputHitpoints"},{value:"3",type:"writeInputHitpoints"},{value:"4",type:"writeInputHitpoints"},{value:"5",type:"writeInputHitpoints"},{value:"6",type:"writeInputHitpoints"},{value:"7",type:"writeInputHitpoints"},{value:"8",type:"writeInputHitpoints"},{value:"9",type:"writeInputHitpoints"},{},{value:"0",type:"writeInputHitpoints"}];function B(e){var t=e.dispatch;return E.map((function(e){var i=e.type,a=e.value,r=e.Icon,c=e.danger;return i?Object(n.jsx)(p.a,{span:8,children:Object(n.jsx)(O.a,{danger:c,size:"large",style:{minWidth:"70px",height:"100%"},type:"primary",onClick:function(){return t({type:i,value:a})},children:a||Object(n.jsx)(r,{})})},null!==a&&void 0!==a?a:i):Object(n.jsx)(p.a,{span:8},"vacio")}))}function J(e){var t=e.dispatch,i=e.state;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.a,{gutter:[16,16],justify:"center",children:Object(n.jsx)(p.a,{span:8,children:Object(n.jsx)(W.a,{style:{margin:10},value:"HP: "+i.inputHitpoints,precision:0})})}),Object(n.jsx)(d.a,{gutter:[8,8],children:Object(n.jsx)(B,{dispatch:t})})]})}var L=[{value:"q",type:"writeInputName"},{value:"w",type:"writeInputName"},{value:"e",type:"writeInputName"},{value:"r",type:"writeInputName"},{value:"t",type:"writeInputName"},{value:"y",type:"writeInputName"},{value:"u",type:"writeInputName"},{value:"i",type:"writeInputName"},{value:"o",type:"writeInputName"},{value:"p",type:"writeInputName"},{value:"a",type:"writeInputName"},{value:"s",type:"writeInputName"},{value:"d",type:"writeInputName"},{value:"f",type:"writeInputName"},{value:"g",type:"writeInputName"},{value:"h",type:"writeInputName"},{value:"j",type:"writeInputName"},{value:"k",type:"writeInputName"},{value:"l",type:"writeInputName"},{value:"\xf1",type:"writeInputName"},{value:"z",type:"writeInputName"},{value:"x",type:"writeInputName"},{value:"c",type:"writeInputName"},{value:"v",type:"writeInputName"},{value:"b",type:"writeInputName"},{value:"n",type:"writeInputName"},{value:"m",type:"writeInputName"},{value:"_",type:"writeInputName"},{value:"??",type:"writeInputName"},{value:"1",type:"writeInputName"},{value:"2",type:"writeInputName"},{value:"3",type:"writeInputName"},{value:"4",type:"writeInputName"},{value:"5",type:"writeInputName"},{value:"6",type:"writeInputName"},{value:"7",type:"writeInputName"},{value:"8",type:"writeInputName"},{value:"9",type:"writeInputName"},{value:"0",type:"writeInputName"}];function M(e){var t=e.dispatch,i=e.extraWords;return L.concat(i).map((function(e){var i=e.type,a=e.value,r=e.Icon;return Object(n.jsx)(p.a,{children:Object(n.jsx)(O.a,{size:"large",style:{minWidth:"70px",height:"100%"},type:"primary",onClick:function(){return t({type:i,value:a})},children:a||Object(n.jsx)(r,{})})},a)}))}function R(e){var t,i,a=e.dispatch,r=e.state,c=window.location.search,o=new URLSearchParams(c),u=o.get("players")?o.get("players"):null,s=null!==(t=null===u||void 0===u||null===(i=u.split("-"))||void 0===i?void 0:i.map((function(e){return{value:e,type:"writeInputName"}})))&&void 0!==t?t:[];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.a,{gutter:[16,16],justify:"center",children:Object(n.jsx)(p.a,{children:Object(n.jsx)(W.a,{style:{margin:10},value:"Name: "+r.inputName})})}),Object(n.jsx)(d.a,{gutter:[8,8],children:Object(n.jsx)(M,{extraWords:s,dispatch:a})})]})}var A=k.a.Step,G=[{title:"Name"},{title:"Initiative"},{title:"Hit Points"}];function K(e){var t=e.state,i=e.dispatch,r=Object(a.useState)(0),c=Object(o.a)(r,2),u=c[0],s=c[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(k.a,{current:u,children:G.map((function(e){return Object(n.jsx)(A,{title:e.title},e.title)}))}),1===u&&Object(n.jsx)(F,{state:t,dispatch:i}),0===u&&Object(n.jsx)(R,{state:t,dispatch:i}),2===u&&Object(n.jsx)(J,{state:t,dispatch:i}),Object(n.jsxs)("div",{className:"steps-action",children:[0===u&&Object(n.jsx)(O.a,{danger:!0,style:{width:"100px"},type:"primary",onClick:function(){return i({type:"deleteInputName"})},children:Object(n.jsx)(S.a,{})}),1===u&&Object(n.jsx)(O.a,{danger:!0,style:{width:"100px"},type:"primary",onClick:function(){return i({type:"deleteInputInitiative"})},children:Object(n.jsx)(f.a,{})}),2===u&&Object(n.jsx)(O.a,{danger:!0,style:{width:"100px"},type:"primary",onClick:function(){return i({type:"deleteInputHitpoints"})},children:Object(n.jsx)(f.a,{})}),u>0&&Object(n.jsx)(O.a,{onClick:function(){return s(u-1)},children:"Previous"}),u<G.length-1&&Object(n.jsx)(O.a,{type:"primary",onClick:function(){return s(u+1)},children:"Next"}),u===G.length-1&&Object(n.jsx)(O.a,{type:"primary",danger:!0,onClick:function(){s(0),i({type:"addInitiative",monster:!0})},children:"Create as a Monster"}),u===G.length-1&&Object(n.jsx)(O.a,{type:"primary",onClick:function(){s(0),i({type:"addInitiative",monster:!1})},children:"Create as a Player"})]})]})}var U=y.a.confirm;function X(e){var t=e.dispatch;return Object(n.jsx)(d.a,{gutter:[8,8],children:Object(n.jsx)(p.a,{span:8,children:Object(n.jsxs)(O.a,{size:"large",danger:!0,type:"primary",onClick:function(){U({title:"Do you want to delete everything in the store?",icon:null,onOk:function(){t({type:"deleteAll"})}})},children:[Object(n.jsx)(f.a,{})," Delete Store"]})})})}var q=i(99),T=[{value:1,type:"editHitpoints"},{value:2,type:"editHitpoints"},{value:3,type:"editHitpoints"},{value:5,type:"editHitpoints"},{value:10,type:"editHitpoints"},{value:20,type:"editHitpoints"},{value:30,type:"editHitpoints"},{value:50,type:"editHitpoints"}],_=[{color:"grey",condition:"Petrified",add:"editCondition",remove:"removeCondition"},{color:"lime",condition:"Incapacitated",add:"editCondition",remove:"removeCondition"},{color:"gold",condition:"Unconscious",add:"editCondition",remove:"removeCondition"},{color:"orange",condition:"Paralyzed",add:"editCondition",remove:"removeCondition"},{color:"cornflowerblue",condition:"Invisible",add:"editCondition",remove:"removeCondition"},{color:"cyan",condition:"Deafened",add:"editCondition",remove:"removeCondition"},{color:"geekblue",condition:"Blinded",add:"editCondition",remove:"removeCondition"},{color:"blue",condition:"Frightened",add:"editCondition",remove:"removeCondition"},{color:"purple",condition:"Grappled",add:"editCondition",remove:"removeCondition"},{color:"burlywood",condition:"Restrained",add:"editCondition",remove:"removeCondition"},{color:"magenta",condition:"Charmed",add:"editCondition",remove:"removeCondition"},{color:"green",condition:"Poisoned",add:"editCondition",remove:"removeCondition"},{color:"red",condition:"Stunned",add:"editCondition",remove:"removeCondition"},{color:"volcano",condition:"Prone",add:"editCondition",remove:"removeCondition"}];function Q(e){var t=e.dispatch,i=e.conditions;return _.map((function(e){var a=e.add,r=e.remove,c=e.condition,o=e.color,u=null===i||void 0===i?void 0:i.find((function(e){return e.condition===c}));return Object(n.jsx)(p.a,{span:6,children:Object(n.jsxs)(m.a,{color:"cornflowerblue",onClick:function(){return t({type:u?r:a,value:{condition:c,color:o}})},children:[u&&Object(n.jsx)(f.a,{})," ",c]},c)},c)}))}function V(e){var t=e.dispatch,i=e.isNegative;return T.map((function(e){var a=e.type,r=e.value,c=e.Icon;return a?Object(n.jsx)(p.a,{span:8,children:Object(n.jsxs)(O.a,{size:"large",style:{minWidth:"70px",height:"100%"},type:"primary",onClick:function(){return t({type:a,value:i?-r:r})},children:[i&&"- ",r||Object(n.jsx)(c,{})]})},r):Object(n.jsx)(p.a,{span:8},"vacio")}))}function Y(e){var t,i,r=e.dispatch,c=e.state,u=Object(a.useState)(!0),s=Object(o.a)(u,2),l=s[0],v=s[1],j=null!==(t=null===c||void 0===c||null===(i=c.initiatives)||void 0===i?void 0:i.find((function(e){return e.id===c.selected})))&&void 0!==t?t:{},b=j.conditions,y=j.name;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"LabelName",children:Object(n.jsx)("span",{className:"Name",children:y})}),Object(n.jsx)("div",{className:"LabelName",children:"Hit Points:"}),Object(n.jsx)(d.a,{gutter:[16,16],justify:"center",children:Object(n.jsx)(p.a,{children:Object(n.jsxs)(d.a,{gutter:[8,8],children:[Object(n.jsx)(p.a,{span:8,children:Object(n.jsx)(q.a,{checked:l,onChange:function(e){var t=e.target.checked;return v(t)},children:"Minus"})}),Object(n.jsx)(V,{dispatch:r,isNegative:l})]})})}),Object(n.jsx)("div",{className:"LabelName",children:"Conditions:"}),Object(n.jsx)(d.a,{gutter:[16,16],justify:"center",children:Object(n.jsx)(p.a,{children:Object(n.jsx)(d.a,{gutter:[8,8],children:Object(n.jsx)(Q,{dispatch:r,conditions:b})})})})]})}var Z=i(381),$=l.a.TabPane;function ee(e,t){switch(t.type){case"addInitiative":var i,n,a={value:null!==(i=e.inputInitiative)&&void 0!==i?i:0,name:null!==(n=e.inputName)&&void 0!==n?n:"",hitpoints:e.inputHitpoints,id:Date.now(),monster:t.monster,conditions:[]},r=[].concat(Object(s.a)(e.initiatives),[a]).sort((function(e,t){return t.value-e.value}));return Object(u.a)(Object(u.a)({},e),{},{initiatives:r,inputInitiative:0,inputName:"",inputHitpoints:0});case"deleteAll":return{initiatives:[],selected:null,inputInitiative:0,inputName:"",inputHitpoints:0};case"sortInitiatives":return Object(u.a)(Object(u.a)({},e),{},{initiatives:t.initiatives});case"removeCharacter":var c=e.initiatives.filter((function(e){return e.id!==t.value}));return Object(u.a)(Object(u.a)({},e),{},{initiatives:c,selected:e.selected===t.value?null:e.selected});case"writeInputInitiative":var o=parseInt(e.inputInitiative+t.value);return Object(u.a)(Object(u.a)({},e),{},{inputInitiative:o});case"writeInputName":var l=e.inputName+t.value;return Object(u.a)(Object(u.a)({},e),{},{inputName:l});case"writeInputHitpoints":var d=parseInt(e.inputHitpoints+t.value);return Object(u.a)(Object(u.a)({},e),{},{inputHitpoints:d});case"deleteInputInitiative":return Object(u.a)(Object(u.a)({},e),{},{inputInitiative:0});case"deleteInputHitpoints":return Object(u.a)(Object(u.a)({},e),{},{inputHitpoints:0});case"deleteInputName":var p,v;return Object(u.a)(Object(u.a)({},e),{},{inputName:null!==(p=null===e||void 0===e||null===(v=e.inputName)||void 0===v?void 0:v.slice(0,-1))&&void 0!==p?p:""});case"negativeInputInitiative":return Object(u.a)(Object(u.a)({},e),{},{inputInitiative:-e.inputInitiative});case"next":return Object(u.a)(Object(u.a)({},e),{},{initiatives:e.initiatives.slice(1).concat(e.initiatives.slice(0,1))});case"back":return Object(u.a)(Object(u.a)({},e),{},{initiatives:e.initiatives.slice(-1).concat(e.initiatives.slice(0,-1))});case"select":var b=e.initiatives.find((function(e){return e.id===t.value}));return Object(u.a)(Object(u.a)({},e),{},{selected:b.id,inputInitiative:null===b||void 0===b?void 0:b.value,inputName:null===b||void 0===b?void 0:b.name,inputHitpoints:null===b||void 0===b?void 0:b.hitpoints});case"editHitpoints":var y=e.initiatives.map((function(i){if(i.id===e.selected){var n=j()(i);return n.hitpoints=n.hitpoints+t.value,n}return i}));return Object(u.a)(Object(u.a)({},e),{},{initiatives:y});case"editCondition":var m=e.initiatives.map((function(i){if(i.id===e.selected){var n=j()(i);return n.conditions.push(t.value),n}return i}));return Object(u.a)(Object(u.a)({},e),{},{initiatives:m});case"removeCondition":var h=e.initiatives.map((function(i){if(i.id===e.selected){var n=j()(i);return n.conditions=n.conditions.filter((function(e){return e.condition!==t.value.condition})),n}return i}));return Object(u.a)(Object(u.a)({},e),{},{initiatives:h});case"clean":return Object(u.a)(Object(u.a)({},e),{},{inputInitiative:0,inputName:"",inputHitpoints:0,selected:null});default:throw new Error}}function te(e){var t=e.storedState,i=e.initialState,r=Object(a.useReducer)(ee,null!==t&&void 0!==t?t:i),c=Object(o.a)(r,2),u=c[0],s=c[1],v=Object(a.useState)("2"),j=Object(o.a)(v,2),b=j[0],y=j[1];return Object(a.useEffect)((function(){localStorage.setItem("storedState",JSON.stringify(u))}),[u]),Object(a.useEffect)((function(){u.selected||y("2")}),[u.selected]),Object(n.jsxs)(d.a,{gutter:[16,16],style:{width:"100%",height:"100%"},children:[Object(n.jsx)(p.a,{span:"2"===b?8:14,children:Object(n.jsx)(H,{state:u,dispatch:s,wider:"1"===b})}),Object(n.jsx)(p.a,{span:"2"===b?16:10,children:Object(n.jsxs)(l.a,{onChange:y,activeKey:b,children:[Object(n.jsx)($,{tab:"Add Character",children:Object(n.jsx)(K,{state:u,dispatch:s})},"2"),Object(n.jsx)($,{disabled:!u.selected,tab:"Character Manager",children:Object(n.jsx)(Y,{state:u,dispatch:s})},"1"),Object(n.jsx)($,{tab:Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(Z.a,{})," Settings"]}),children:Object(n.jsx)(X,{state:u,dispatch:s})},"3")]})})]})}i(367);var ie={initiatives:[],selected:null,inputInitiative:0,inputName:"",inputHitpoints:0};try{var ne=localStorage.getItem("storedState"),ae=ne?JSON.parse(ne):ie;ae.selected=null,c.a.render(Object(n.jsx)(te,{storedState:ae,initialState:ie}),document.getElementById("root"))}catch(re){c.a.render(Object(n.jsx)(te,{initialState:ie}),document.getElementById("root"))}}},[[368,1,2]]]);
//# sourceMappingURL=main.d5535898.chunk.js.map